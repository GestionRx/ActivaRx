<!DOCTYPE html><html lang="es">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"/><title>ActivaRx ‚Äî Registro de estudios</title><meta name="theme-color" content="#F28C28"/><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-title" content="ActivaRx"/><link rel="apple-touch-icon" id="apple-touch-icon"><link rel="icon" id="favicon">

<style>:root{--bg:#0f1220;--card:#171a2b;--ink:#e9ecf1;--muted:#9aa1b3;--accent:#f28c28;--danger:#ff6b6b;--ok:#3ecf8e;--border:#232840}*{box-sizing:border-box}html,body{height:100%}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Ubuntu,"Helvetica Neue",Arial;color:var(--ink);background:linear-gradient(160deg,#0e1020,#111429 35%,#0b1026);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}header{padding:5px 24px;border-bottom:1px solid var(--border);backdrop-filter:saturate(140%) blur(10px);background:#0f1220cc;z-index:10;display:flex;align-items:center;gap:10px;position:fixed;top:0;left:0;width:100%;transition:transform .3s ease-out}.app-name{color:var(--accent);font-weight:900;text-shadow:0 0 5px rgba(242,140,40,.7),0 0 10px rgba(242,140,40,.4)}.header-hidden{transform:translateY(-100%)}.header-title{margin-right:auto;flex-shrink:0}header h1{margin:0 0 2px;font-size:20px;letter-spacing:.2px}.section-buttons{display:flex;gap:5px;flex-wrap:wrap;justify-content:center;flex-grow:1}.section-btn{all:unset;padding:8px 14px;background:#232a4a;border:1px solid #2f3a6b;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;white-space:nowrap}.section-btn:hover{background:#283159;border-color:#3b4d8d}.section-btn.active{background:var(--accent);color:#0f1220;border-color:var(--accent)}.wrap{display:grid;grid-template-columns:.2fr 1.2fr .8fr;gap:18px;padding:18px;max-width:1400px;margin:0 auto;padding-top:95px}#panel-log{position:sticky;top:65px;align-self:start;max-height:calc(100vh - 30px);display:flex;flex-direction:column;overflow-y:auto}.card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:14px 14px 10px;box-shadow:0 6px 20px rgba(0,0,0,.25)}.section{margin-bottom:10px}.section h2{margin:10px 6px;font-size:15px;font-weight:700;color:#d8def2;text-transform:uppercase;letter-spacing:.6px}.grid{display:grid;gap:8px;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));padding:6px}button.item{all:unset;display:flex;align-items:center;justify-content:space-between;padding:12px 12px;border:1px solid var(--border);border-radius:10px;background:#13182b;color:var(--ink);cursor:pointer;transition:.15s ease;text-align:left}button.item:hover{transform:translateY(-1px);border-color:#2a335a;background:#141b34}.item .name{font-size:14px;line-height:1.25;margin-right:10px}.item .mins{font-size:13px;color:#cbd4ff;background:#1a2244;padding:4px 8px;border-radius:8px}.totals{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border:1px dashed #2a3152;border-radius:10px;background:#121734;margin:8px 0 12px;flex-wrap:wrap}.totals .sum{font-weight:800;font-size:18px;color:#f0f3ff;transition:color .2s ease}.totals .sum.ok{color:var(--ok)}.totals .hint{color:var(--muted);font-size:13px}.log{margin-top:6px;flex-grow:1;overflow:auto;padding-right:4px}.row{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:10px;padding:10px 12px;background:#13172c;border:1px solid #22284a;border-radius:10px;margin:8px 0}.row .log-time{font-size:13px;color:var(--muted)}.row .log-name{font-size:14px;font-weight:500}.row .log-controls{display:flex;align-items:center;gap:8px}.row .pill{font-size:12px;color:#cfe1ff;background:#1a2244;padding:3px 8px;border-radius:999px}.del{all:unset;cursor:pointer;color:#ff9aa9;background:#2a1520;border:1px solid #462033;padding:4px 8px;border-radius:8px;font-weight:700;line-height:1;transition:all .12s ease}.del:hover{background:#3a1d2d;color:#ffd2da}.toolbar{display:flex;gap:8px;margin:8px 0 4px;align-items:center}.clear{all:unset;cursor:pointer;color:#d2dcff;background:#232a4a;border:1px solid #2f3a6b;padding:8px 10px;border-radius:10px;font-size:13px}.clear:hover{background:#283159}.count{color:var(--muted);font-size:13px;margin-left:auto;align-self:center}.footer-note{color:var(--muted);font-size:12px;padding:4px 8px 0}.manual-entry{background:#121734;padding:12px;border-radius:10px;border:1px dashed #2a3152;margin-bottom:20px}.manual-entry h2{margin-top:0;font-size:15px}.manual-form{display:grid;grid-template-columns:1fr auto;gap:10px}.manual-form input{background:#13182b;border:1px solid var(--border);color:var(--ink);border-radius:8px;padding:10px;font-size:14px;height:40px}.manual-form input::placeholder{color:var(--muted)}.manual-form input[type="number"]{width:80px}.manual-form button{all:unset;background:#8ec0ff;color:#0f1220;font-weight:700;border-radius:8px;cursor:pointer;transition:.2s ease;display:inline-flex;align-items:center;justify-content:center;height:40px;grid-column:1/3}.manual-form button:hover{background:#f28c28}.progress-bar-container{width:100%;background-color:#13182b;border-radius:999px;height:8px;overflow:hidden;border:1px solid #3c487c}.progress-bar{height:100%;width:0%;background-color:var(--ok);border-radius:999px;transition:width .4s ease}.totals .progress-bar-container{margin-top:12px}.secondary-totals{width:100%;display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:12px;padding:10px;background-color:#13182b55;border-radius:8px}.total-block{text-align:center}.total-block .value{font-size:16px;font-weight:700;color:var(--accent)}.total-block .label{font-size:11px;color:var(--muted);text-transform:uppercase}#left-column{display:flex;flex-direction:column;gap:18px}#sugerencias-panel h2{margin:0 0 10px;font-size:15px;font-weight:700;color:#d8def2;text-transform:uppercase;letter-spacing:.6px}#sugerencias-content{color:var(--muted);font-size:14px}.suggestion-item{display:flex;justify-content:space-between;align-items:center;padding:9px 6px;border-bottom:1px solid var(--border);text-transform:lowercase}.suggestion-item .name{color:var(--ink)}.suggestion-item .mins{font-weight:700;color:var(--accent)}.suggestion-hint{font-style:italic;font-size:13px;padding:6px}.suggestion-total{text-align:right;font-size:12px;padding-top:8px;color:var(--muted)}
.profile-controls{display:grid;grid-template-columns: repeat(4, 1fr);gap:8px;align-items:center;margin-top:8px;flex-wrap:wrap;justify-content:space-between;text-align:center}
.profile-btn{all:unset;cursor:pointer;padding:8px 10px;border-radius:8px;background:#13182b;color:var(--ink);border:1px solid var(--border);font-size:13px}.profile-btn.active{background:var(--accent);color:#071121;font-weight:800;border-color:#e1b79a;box-shadow:0 6px 18px rgba(242,140,40,.12)}

.editor-controls{display:flex;justify-content:space-between;gap:10px;margin-bottom:10px}
.editor-btn{all:unset;cursor:pointer;padding:5px 10px;background:#232a4a;border:1px solid #2f3a6b;border-radius:8px;line-height:1;transition:all .2s ease}
.editor-btn .emoji{font-size:20px;}

.editor-btn:hover{background:#283159}
.editor-btn.active{background:var(--accent);color:#0f1220}
.editor-btn .btn-text {font-size: 12px;}
body.editor-active .section h2{cursor:pointer;background-color:rgba(110,168,254,.1);border-radius:6px;padding:4px}body.editor-active .section h2:hover{background-color:rgba(110,168,254,.2)}.item.config-hidden{display:none}body.editor-active .item.config-hidden{display:flex}body.editor-active .item:hover{transform:none}body.editor-active .item{background:#283159;border-color:#3b4d8d}body.editor-active .item.editor-selected{background:var(--accent);color:#0f1220;border-color:var(--accent)}body.editor-active .item.editor-selected .mins{background:rgba(15,18,32,.5);color:#fff}body.custom-mode-active .item{cursor:pointer}body.custom-mode-active .item:hover{transform:none}body.custom-mode-active .item{background:#283159;border-color:#3b4d8d;opacity:.6}body.custom-mode-active .item.custom-selected{background:var(--ok);color:#0f1220;border-color:var(--ok);opacity:1}body.custom-mode-active .item.custom-selected .mins{background:rgba(15,18,32,.5);color:#fff}body.custom-mode-active .item-counter{pointer-events:none;opacity:.6}#suggestions-container{position:relative;margin-top:10px;grid-column:1/3}#suggestion-list{position:absolute;z-index:10;width:100%;max-height:200px;overflow-y:auto;background:#1e2440;border:1px solid #2f3a6b;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.3)}

.suggestion-item-manual{padding:10px 12px;border-bottom: 1px solid #2a3152;cursor:pointer;display:flex;justify-content: space-between;align-items:center;gap:12px;font-size: 14px;transition: background-color .15s ease;}
.suggestion-item-manual:hover{ background:#283159; }
.suggestion-item-manual:last-child{ border-bottom:none;}
.suggestion-item-manual .name{flex: 1 1 auto;min-width:0;line-height:1.15;white-space:normal;word-break:normal;}
.suggestion-item-manual .suggestion-mins{color:var(--accent);font-weight: 700;white-space:nowrap;text-align:right;min-width:90px;}

.item-counter{width:45px;padding:4px 6px;font-size:13px;text-align:center;border:1px solid var(--border);background-color:#fff;color:#000;border-radius:6px;margin-left:8px}
.item-counter::-webkit-outer-spin-button,.item-counter::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}
.item .name{flex-shrink:1;min-width:50px}
.name-counter-group{display:flex;align-items:center;flex-grow:1;margin-right:10px}

body.editor-active .item-counter{pointer-events:none;opacity:.6}
#floating-bar{display:none}@media (max-width:980px){.manual-form{grid-template-columns:1fr auto}}

#currentObjectiveInput{margin-left:0;font-size:13px;color:var(--ink);background-color:#13182b;border:1px solid var(--border);border-radius:6px;padding:4px 8px;width:90px;text-align:right;-moz-appearance:textfield}
#currentObjectiveInput::-webkit-outer-spin-button,
#currentObjectiveInput::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}
#currentObjectiveInput:focus{outline:1px solid var(--accent);border-color:var(--accent)}
.objective-note{font-size:12px;color:var(--muted);text-align:center;margin-right:8px;flex-grow:1;margin-top:0;font-style:italic}
.objective-line{grid-column:1/-1;display:flex;justify-content:center;align-items: center;gap:8px;padding-top:8px}

#modifier-panel{padding:15px 10px;display:flex;flex-direction:column;gap:12px;align-self:start;position:sticky;top:65px}#modifier-panel h2{margin:0 0 10px;font-size:15px;font-weight:700;color:#d8def2;text-transform:uppercase;letter-spacing:.6px;text-align:center}.modifier-btn{all:unset;cursor:pointer;display:flex;align-items:center;padding:10px 12px;background:#232a4a;border:1px solid #2f3a6b;border-radius:8px;font-size:14px;font-weight:500;color:var(--ink);transition:all .2s ease;width:80%;text-align:left;white-space:normal}.modifier-btn:hover{background:#283159;border-color:#3b4d8d}.modifier-btn.active{background:var(--accent);color:#0f1220;border-color:var(--accent);font-weight:700}.modifier-emoji{font-size:1.2em;margin-right:10px;line-height:1}@media (max-width: 980px){.wrap{grid-template-columns:1fr;padding-top:80px}#modifier-panel{position:static;margin-bottom:0;flex-wrap:wrap;justify-content:center;align-items:center;flex-direction:row;display:flex}.modifier-btn{width:23%;justify-content:center;display:flex}#modifier-panel h2{width:100%;margin-bottom:0}}.section-btn[data-section="amedida"].active{background:var(--ok);border-color:var(--ok);color:#0f1220}#custom-mode-btn.active{background:var(--ok);border-color:var(--ok);color:#0f1220}#page-footer{padding:5px 5px;margin-top:0;text-align:center;font-size:11px;color:var(--muted);line-height:1.5;border-top:1px solid var(--border)}#page-footer p{margin:0 0 10px}#page-footer a{color:var(--accent);text-decoration:none}#page-footer a:hover{text-decoration:underline}#mobile-section-toggle,#mobile-section-dropdown{display:none}#mobile-section-dropdown{position:fixed;top:55px;left:10px;right:10px;z-index:99;max-height:70vh;overflow-y:auto;padding:10px;box-shadow:0 10px 30px rgba(0,0,0,.5);border-top:none;border-radius:0 0 14px 14px}#mobile-section-dropdown .section-btn{display:grid;width:auto;text-align:center;margin-bottom:0!important;white-space:normal}#mobile-section-dropdown .section-btn:last-child{margin-bottom:0}#mobile-section-dropdown.visible{display:grid;grid-template-columns:repeat(2,1fr);gap:8px}@media (max-width: 1484px){#section-nav{display:none}#mobile-section-toggle{display:block;font-size:15px}}

@media (max-width: 1024px){header{flex-wrap:nowrap;padding:8px 16px;left:0;right:0;width:auto;max-width:100%}.header-title{flex-shrink:1!important}header h1{font-size:16px}header p{display:none}#page-footer{padding:10px 10px}#section-nav{display:none}#mobile-section-toggle{display:block;font-size:15px}#panel-log{position:static;overflow-y:auto}

.profile-controls{display:grid;grid-template-columns:repeat(2, 1fr);justify-items:center;gap:10px;text-align:center;width:100%;column-gap:30px;padding: 0 8px;box-sizing:border-box}
.profile-btn{height:30px;width:100%;text-align:center}
.objective-note{text-align:center}.wrap{padding-top:60px;padding-left:0;padding-right:0}

#floating-bar{display:block;position:fixed;bottom:0;left:0;right:0;width:auto;max-width:100%;background:linear-gradient(180deg,rgba(44,53,88,.95),rgba(27,34,64,.95));border-top:2px solid var(--border);z-index:1000;padding:10px 12px 12px;box-shadow:0 -10px 30px rgba(2,6,23,.6)}.floating-content{display:flex;justify-content:center;font-size:16px;font-weight:bold;color:var(--ink);margin-bottom:8px}#floating-bar .progress-bar-container{display:block;width:100%}#floating-bar .progress-bar{height:100%}.blink{animation:blink .8s infinite}@keyframes blink{50%{opacity:.2}}}</style></head>

<body>
<noscript><div style="position:fixed;top:0;left:0;width:100%;height:25%;z-index:99999;background-color:rgba(0,0,0,.9);color:#ffcc00;font-size:1.5em;font-weight:bold;text-align:center;display:flex;align-items:center;justify-content:center">Esta p√°gina necesita el Javascript activado para funcionar correctamente.</div></noscript>
<header><div class="header-title"><h1><span class="app-name">ActivaRx</span> ‚Äî Registro de estudios</h1><p>Pulsa un √≠tem para a√±adirlo al log o cambia de secci√≥n.</p></div><button id="mobile-section-toggle" class="editor-btn">‚ò∞ √Åreas</button><nav id="section-nav" class="section-buttons"></nav></header><div id="mobile-section-dropdown" class="card"></div><main class="wrap" id="app-root"><aside id="modifier-panel" class="card"><h2>Modificadores</h2><button id="pediatric-toggle" class="modifier-btn"><span class="modifier-emoji">üë∂</span> Pedi√°trico</button><button id="urgent-toggle" class="modifier-btn"><span class="modifier-emoji">üöë</span> Urgente</button><button id="hospitalized-toggle" class="modifier-btn"><span class="modifier-emoji">üè•</span> Ingresado</button></aside><div id="left-column"><section class="card" id="catalogo"><div class="manual-entry"><h2>Entrada Manual</h2><form class="manual-form" id="manualForm" autocomplete="off">
<input type="text" id="manualName" placeholder="Ej: tc cuello x10 / c√≥digo(s) del cat√°logo / entrada libre" required title="Empiece a teclear una exploraci√≥n o introduzca una lista de c√≥digos"><input type="number" id="manualMins" placeholder="Min" min="1"><div id="suggestions-container"><div id="suggestion-list"></div></div><button type="submit" aria-label="A√±adir estudio">A√±adir</button></form></div><div id="catalog-sections"></div></section><section class="card" id="sugerencias-panel"><h2>Sugerencias</h2><div id="sugerencias-content"></div></section></div><section class="card" id="panel-log">
<div class="editor-controls">
<button id="export-csv-btn" class="editor-btn" title="Exportar a CSV"><span class="emoji">üíæ</span></button>
<button id="export-report-btn" class="editor-btn" title="Generar informe en PDF"><span class="emoji">üìä</span><span class="btn-text"> Informe</span></button><div>
<button id="reset-config-btn" class="editor-btn" title="Restaurar vista por defecto"><span class="emoji">‚Ü©</span></button><button id="editor-mode-btn" class="editor-btn" title="Activar modo editor"><span class="emoji">‚öôÔ∏è</span></button><button id="custom-mode-btn" class="editor-btn" title="Activar modo 'A Medida'"><span class="emoji">üßµ</span></button></div></div>
<div class="totals" id="totalsPanel"><div style="flex:1;"><div class="hint">Tiempo M√©dico total</div><div id="sum" class="sum">0 min</div></div><div class="toolbar"><button class="clear" id="btnReset" title="Vaciar registro">Vaciar</button><div class="count"><span id="nEstudios">0</span> estudios</div></div><div style="width:100%;margin-top:10px;"><div class="progress-bar-container"><div class="progress-bar"></div></div>
<div class="secondary-totals"><div class="total-block"><div id="totalUAR" class="value">0.00</div><div class="label">UAR</div></div><div class="total-block"><div id="totalURV" class="value">0.00</div><div class="label">URV</div></div><div class="total-block"><div id="totalTOS" class="value">0 min</div><div class="label">TOS</div></div></div>

<div class="profile-controls" style="margin-top:10px;"><button class="profile-btn" data-profile="gestor" data-target="150">Perfil gestor</button><button class="profile-btn" data-profile="normal" data-target="300">Perfil normal</button><button class="profile-btn" data-profile="asistencial" data-target="360">Perfil asistencial</button><button class="profile-btn" data-profile="servicio" data-target="0">Actividad servicio</button></div>

<div class="objective-line"><div class="objective-note">Minutos de informado orientativo (adecuar por puesto).</div>
<input type="number" id="currentObjectiveInput" min="1" max="1440" value="300" title="Objetivo de minutos (editable)"></div>

<div class="log" id="log" aria-live="polite"></div><div class="footer-note">Registro persistente en el dispositivo.</div></section></main><div id="floating-bar" role="status" aria-live="polite"><div class="floating-content"></div><div class="progress-bar-container"><div class="progress-bar"></div></div></div>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.4/dist/confetti.browser.min.js" defer></script><script src="catalogo.js"></script>
<script src="ActivaRx_sc.js"></script>
<footer id="page-footer"><p>ActivaRx: herramienta para medir cargas de trabajo dise√±ada con asistencia de inteligencia artificial. Presentaci√≥n electr√≥nica exhibida en: 38¬∫ congreso de la SERAM; 20-23 de mayo de 2026; Valencia. Todos los derechos reservados. Bibliograf√≠a: 1. Vald√©s Sol√≠s P, Martinez Serrano C. Las Cargas de Trabajo en Radiolog√≠a, https://seram.es/images/site/Cargas_trabajo_SERAM_julio2020.pdf; 2020 [consultada el 25 de octubre de 2025]. 2. Sociedad Espa√±ola de Radiolog√≠a M√©dica. Cat√°logo SERAM 2025, https://seram.es/catalogo-seram/; 2025 [consultada el 25 de octubre de 2025].</p></footer>
</body>

</html>

